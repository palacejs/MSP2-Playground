// Language system
const LANGUAGES = [
  { key: "en-US", flag: "ðŸ‡ºðŸ‡¸", name: "United States" },
  { key: "en-CA", flag: "ðŸ‡¨ðŸ‡¦", name: "Canada" },
  { key: "en-GB", flag: "ðŸ‡¬ðŸ‡§", name: "United Kingdom" },
  { key: "nl-NL", flag: "ðŸ‡³ðŸ‡±", name: "Netherlands" },
  { key: "en-IE", flag: "ðŸ‡®ðŸ‡ª", name: "Ireland" },
  { key: "da-DK", flag: "ðŸ‡©ðŸ‡°", name: "Denmark" },
  { key: "fr-FR", flag: "ðŸ‡«ðŸ‡·", name: "France" },
  { key: "pl-PL", flag: "ðŸ‡µðŸ‡±", name: "Poland" },
  { key: "sv-SE", flag: "ðŸ‡¸ðŸ‡ª", name: "Sweden" },
  { key: "no-NO", flag: "ðŸ‡³ðŸ‡´", name: "Norway" },
  { key: "fi-FI", flag: "ðŸ‡«ðŸ‡®", name: "Finland" },
  { key: "tr-TR", flag: "ðŸ‡¹ðŸ‡·", name: "TÃ¼rkiye" },
  { key: "es-ES", flag: "ðŸ‡ªðŸ‡¸", name: "Spain" },
  { key: "de-DE", flag: "ðŸ‡©ðŸ‡ª", name: "Germany" },
  { key: "en-AU", flag: "ðŸ‡¦ðŸ‡º", name: "Australia" },
  { key: "en-NZ", flag: "ðŸ‡³ðŸ‡¿", name: "New Zealand" },
];

const TRANSLATIONS = {
  "en-US": {
    aboutBtn: "About",
    langBtn: "Language",
    newsBtn: "News",
    langTitle: "Select Language",
    aboutTitle: "About MSP2 MODS",
    newsTitle: "News & Updates",
    subtext: `Now you can do everything comfortably with the improved tool.<br>
    If nothing happens, install <a href="https://violentmonkey.github.io/get-it/" target="_blank" style="color:#6effb2;">Violentmonkey</a> first.`,
    info: "Info: These mods will no longer receive software updates or bug fixes starting from 15.09.2025, but you can continue to use them.",
    trollExpired: "MSP2 Troll license has expired.",
    about: `<p>
        MSP2 MODS is a platform that offers unique utility and customization tools ("mods") for MSP2. 
        The site allows you to install various mods to enhance your MSP2 experience.
      </p>
      <p>
        <b>How to use?</b> Click "Install" on any mod. If your browser doesn't respond, install <a href="https://violentmonkey.github.io/get-it/" target="_blank" style="color:#6effb2;">Violentmonkey</a> first.
      </p>
      <p>
        <b>Note:</b> MSP2 MODS will not receive updates after 15.09.2025, but all mods will remain available for use.
      </p>`
  },
  "en-CA": {
    aboutBtn: "About",
    langBtn: "Language", 
    newsBtn: "News",
    langTitle: "Select Language",
    aboutTitle: "About MSP2 MODS",
    newsTitle: "News & Updates",
    subtext: `Now you can do everything comfortably with the improved tool.<br>
    If nothing happens, install <a href="https://violentmonkey.github.io/get-it/" target="_blank" style="color:#6effb2;">Violentmonkey</a> first.`,
    info: "Info: These mods will no longer receive software updates or bug fixes starting from 15.09.2025, but you can continue to use them.",
    trollExpired: "MSP2 Troll license has expired.",
    about: `<p>
        MSP2 MODS is a platform that offers unique utility and customization tools ("mods") for MSP2. 
        The site allows you to install various mods to enhance your MSP2 experience.
      </p>
      <p>
        <b>How to use?</b> Click "Install" on any mod. If your browser doesn't respond, install <a href="https://violentmonkey.github.io/get-it/" target="_blank" style="color:#6effb2;">Violentmonkey</a> first.
      </p>
      <p>
        <b>Note:</b> MSP2 MODS will not receive updates after 15.09.2025, but all mods will remain available for use.
      </p>`
  },
  "en-GB": {
    aboutBtn: "About",
    langBtn: "Language",
    newsBtn: "News", 
    langTitle: "Select Language",
    aboutTitle: "About MSP2 MODS",
    newsTitle: "News & Updates",
    subtext: `Now you can do everything comfortably with the improved tool.<br>
    If nothing happens, install <a href="https://violentmonkey.github.io/get-it/" target="_blank" style="color:#6effb2;">Violentmonkey</a> first.`,
    info: "Info: These mods will no longer receive software updates or bug fixes starting from 15.09.2025, but you can continue to use them.",
    trollExpired: "MSP2 Troll license has expired.",
    about: `<p>
        MSP2 MODS is a platform that offers unique utility and customisation tools ("mods") for MSP2. 
        The site allows you to install various mods to enhance your MSP2 experience.
      </p>
      <p>
        <b>How to use?</b> Click "Install" on any mod. If your browser doesn't respond, install <a href="https://violentmonkey.github.io/get-it/" target="_blank" style="color:#6effb2;">Violentmonkey</a> first.
      </p>
      <p>
        <b>Note:</b> MSP2 MODS will not receive updates after 15.09.2025, but all mods will remain available for use.
      </p>`
  },
  "nl-NL": {
    aboutBtn: "Over",
    langBtn: "Taal",
    newsBtn: "Nieuws",
    langTitle: "Selecteer Taal", 
    aboutTitle: "Over MSP2 MODS",
    newsTitle: "Nieuws & Updates",
    subtext: `Nu kun je alles comfortabel doen met de verbeterde tool.<br>
    Als er niets gebeurt, installeer dan eerst <a href="https://violentmonkey.github.io/get-it/" target="_blank" style="color:#6effb2;">Violentmonkey</a>.`,
    info: "Info: Deze mods ontvangen vanaf 15.09.2025 geen software-updates of bugfixes meer, maar je kunt ze blijven gebruiken.",
    trollExpired: "MSP2 Troll licentie is verlopen.",
    about: `<p>
        MSP2 MODS is een platform dat unieke hulpprogramma's en aanpassingstools ("mods") biedt voor MSP2. 
        De site stelt je in staat om verschillende mods te installeren om je MSP2-ervaring te verbeteren.
      </p>
      <p>
        <b>Hoe te gebruiken?</b> Klik op "Installeer" bij elke mod. Als je browser niet reageert, installeer dan eerst <a href="https://violentmonkey.github.io/get-it/" target="_blank" style="color:#6effb2;">Violentmonkey</a>.
      </p>
      <p>
        <b>Opmerking:</b> MSP2 MODS ontvangt na 15.09.2025 geen updates meer, maar alle mods blijven beschikbaar voor gebruik.
      </p>`
  },
  "en-IE": {
    aboutBtn: "About",
    langBtn: "Language",
    newsBtn: "News",
    langTitle: "Select Language",
    aboutTitle: "About MSP2 MODS", 
    newsTitle: "News & Updates",
    subtext: `Now you can do everything comfortably with the improved tool.<br>
    If nothing happens, install <a href="https://violentmonkey.github.io/get-it/" target="_blank" style="color:#6effb2;">Violentmonkey</a> first.`,
    info: "Info: These mods will no longer receive software updates or bug fixes starting from 15.09.2025, but you can continue to use them.",
    trollExpired: "MSP2 Troll license has expired.",
    about: `<p>
        MSP2 MODS is a platform that offers unique utility and customisation tools ("mods") for MSP2. 
        The site allows you to install various mods to enhance your MSP2 experience.
      </p>
      <p>
        <b>How to use?</b> Click "Install" on any mod. If your browser doesn't respond, install <a href="https://violentmonkey.github.io/get-it/" target="_blank" style="color:#6effb2;">Violentmonkey</a> first.
      </p>
      <p>
        <b>Note:</b> MSP2 MODS will not receive updates after 15.09.2025, but all mods will remain available for use.
      </p>`
  },
  "da-DK": {
    aboutBtn: "Om",
    langBtn: "Sprog",
    newsBtn: "Nyheder",
    langTitle: "VÃ¦lg Sprog",
    aboutTitle: "Om MSP2 MODS",
    newsTitle: "Nyheder & Opdateringer", 
    subtext: `Nu kan du gÃ¸re alt komfortabelt med det forbedrede vÃ¦rktÃ¸j.<br>
    Hvis intet sker, installer fÃ¸rst <a href="https://violentmonkey.github.io/get-it/" target="_blank" style="color:#6effb2;">Violentmonkey</a>.`,
    info: "Info: Disse mods vil ikke lÃ¦ngere modtage softwareopdateringer eller fejlrettelser fra 15.09.2025, men du kan fortsÃ¦tte med at bruge dem.",
    trollExpired: "MSP2 Troll licens er udlÃ¸bet.",
    about: `<p>
        MSP2 MODS er en platform, der tilbyder unikke vÃ¦rktÃ¸jer og tilpasningstools ("mods") til MSP2. 
        Siden giver dig mulighed for at installere forskellige mods for at forbedre din MSP2-oplevelse.
      </p>
      <p>
        <b>Hvordan bruges det?</b> Klik pÃ¥ "Installer" pÃ¥ enhver mod. Hvis din browser ikke reagerer, installer fÃ¸rst <a href="https://violentmonkey.github.io/get-it/" target="_blank" style="color:#6effb2;">Violentmonkey</a>.
      </p>
      <p>
        <b>BemÃ¦rk:</b> MSP2 MODS vil ikke modtage opdateringer efter 15.09.2025, men alle mods forbliver tilgÃ¦ngelige til brug.
      </p>`
  },
  "fr-FR": {
    aboutBtn: "Ã€ propos",
    langBtn: "Langue",
    newsBtn: "ActualitÃ©s", 
    langTitle: "Choisir la langue",
    aboutTitle: "Ã€ propos de MSP2 MODS",
    newsTitle: "ActualitÃ©s & Mises Ã  jour",
    subtext: `Vous pouvez dÃ©sormais tout faire facilement avec l'outil amÃ©liorÃ©.<br>
    Si rien ne se passe, installez d'abord <a href="https://violentmonkey.github.io/get-it/" target="_blank" style="color:#6effb2;">Violentmonkey</a>.`,
    info: "Info : Ã€ partir du 15.09.2025, ces mods ne recevront plus de mises Ã  jour ou de corrections, mais vous pouvez continuer Ã  les utiliser.",
    trollExpired: "La licence MSP2 Troll a expirÃ©.",
    about: `<p>
        MSP2 MODS est une plateforme proposant des outils uniques et de personnalisation ("mods") pour MSP2.
        Vous pouvez installer plusieurs mods pour amÃ©liorer votre expÃ©rience MSP2.
      </p>
      <p>
        <b>Comment utiliser ?</b> Cliquez sur "Installer" pour un mod. Si le navigateur ne rÃ©agit pas, installez d'abord <a href="https://violentmonkey.github.io/get-it/" target="_blank" style="color:#6effb2;">Violentmonkey</a>.
      </p>
      <p>
        <b>Note :</b> MSP2 MODS ne recevra plus de mises Ã  jour aprÃ¨s le 15.09.2025 mais les mods resteront disponibles.
      </p>`
  },
  "pl-PL": {
    aboutBtn: "O nas",
    langBtn: "JÄ™zyk",
    newsBtn: "AktualnoÅ›ci",
    langTitle: "Wybierz jÄ™zyk", 
    aboutTitle: "O MSP2 MODS",
    newsTitle: "AktualnoÅ›ci i Aktualizacje",
    subtext: `Teraz moÅ¼esz robiÄ‡ wszystko wygodnie dziÄ™ki ulepszonemu narzÄ™dziu.<br>
    JeÅ›li nic siÄ™ nie dzieje, najpierw zainstaluj <a href="https://violentmonkey.github.io/get-it/" target="_blank" style="color:#6effb2;">Violentmonkey</a>.`,
    info: "Info: Te mody nie bÄ™dÄ… juÅ¼ otrzymywaÄ‡ aktualizacji oprogramowania ani poprawek bÅ‚Ä™dÃ³w od 15.09.2025, ale moÅ¼esz nadal z nich korzystaÄ‡.",
    trollExpired: "Licencja MSP2 Troll wygasÅ‚a.",
    about: `<p>
        MSP2 MODS to platforma oferujÄ…ca unikalne narzÄ™dzia uÅ¼ytkowe i personalizacyjne ("mody") dla MSP2. 
        Strona pozwala na instalacjÄ™ rÃ³Å¼nych modÃ³w w celu poprawy doÅ›wiadczenia MSP2.
      </p>
      <p>
        <b>Jak uÅ¼ywaÄ‡?</b> Kliknij "Zainstaluj" przy dowolnym modzie. JeÅ›li przeglÄ…darka nie reaguje, najpierw zainstaluj <a href="https://violentmonkey.github.io/get-it/" target="_blank" style="color:#6effb2;">Violentmonkey</a>.
      </p>
      <p>
        <b>Uwaga:</b> MSP2 MODS nie bÄ™dzie otrzymywaÄ‡ aktualizacji po 15.09.2025, ale wszystkie mody pozostanÄ… dostÄ™pne do uÅ¼ytku.
      </p>`
  },
  "sv-SE": {
    aboutBtn: "Om",
    langBtn: "SprÃ¥k",
    newsBtn: "Nyheter",
    langTitle: "VÃ¤lj sprÃ¥k",
    aboutTitle: "Om MSP2 MODS", 
    newsTitle: "Nyheter & Uppdateringar",
    subtext: `Nu kan du gÃ¶ra allt bekvÃ¤mt med det fÃ¶rbÃ¤ttrade verktyget.<br>
    Om inget hÃ¤nder, installera fÃ¶rst <a href="https://violentmonkey.github.io/get-it/" target="_blank" style="color:#6effb2;">Violentmonkey</a>.`,
    info: "Info: Dessa mods kommer inte lÃ¤ngre att fÃ¥ mjukvaruuppdateringar eller buggfixar frÃ¥n 15.09.2025, men du kan fortsÃ¤tta anvÃ¤nda dem.",
    trollExpired: "MSP2 Troll licens har upphÃ¶rt.",
    about: `<p>
        MSP2 MODS Ã¤r en plattform som erbjuder unika verktyg och anpassningstools ("mods") fÃ¶r MSP2. 
        Webbplatsen lÃ¥ter dig installera olika mods fÃ¶r att fÃ¶rbÃ¤ttra din MSP2-upplevelse.
      </p>
      <p>
        <b>Hur anvÃ¤nder man?</b> Klicka pÃ¥ "Installera" pÃ¥ vilken mod som helst. Om din webblÃ¤sare inte svarar, installera fÃ¶rst <a href="https://violentmonkey.github.io/get-it/" target="_blank" style="color:#6effb2;">Violentmonkey</a>.
      </p>
      <p>
        <b>Obs:</b> MSP2 MODS kommer inte att fÃ¥ uppdateringar efter 15.09.2025, men alla mods fÃ¶rblir tillgÃ¤ngliga fÃ¶r anvÃ¤ndning.
      </p>`
  },
  "no-NO": {
    aboutBtn: "Om",
    langBtn: "SprÃ¥k",
    newsBtn: "Nyheter",
    langTitle: "Velg sprÃ¥k", 
    aboutTitle: "Om MSP2 MODS",
    newsTitle: "Nyheter & Oppdateringer",
    subtext: `NÃ¥ kan du gjÃ¸re alt komfortabelt med det forbedrede verktÃ¸yet.<br>
    Hvis ingenting skjer, installer fÃ¸rst <a href="https://violentmonkey.github.io/get-it/" target="_blank" style="color:#6effb2;">Violentmonkey</a>.`,
    info: "Info: Disse modene vil ikke lenger motta programvareoppdateringer eller feilrettinger fra 15.09.2025, men du kan fortsette Ã¥ bruke dem.",
    trollExpired: "MSP2 Troll lisens har utlÃ¸pt.",
    about: `<p>
        MSP2 MODS er en plattform som tilbyr unike verktÃ¸y og tilpasningsverktÃ¸y ("mods") for MSP2. 
        Nettstedet lar deg installere forskjellige mods for Ã¥ forbedre din MSP2-opplevelse.
      </p>
      <p>
        <b>Hvordan bruke?</b> Klikk "Installer" pÃ¥ hvilken som helst mod. Hvis nettleseren din ikke reagerer, installer fÃ¸rst <a href="https://violentmonkey.github.io/get-it/" target="_blank" style="color:#6effb2;">Violentmonkey</a>.
      </p>
      <p>
        <b>Merk:</b> MSP2 MODS vil ikke motta oppdateringer etter 15.09.2025, men alle mods forblir tilgjengelige for bruk.
      </p>`
  },
  "fi-FI": {
    aboutBtn: "Tietoja",
    langBtn: "Kieli",
    newsBtn: "Uutiset", 
    langTitle: "Valitse kieli",
    aboutTitle: "Tietoja MSP2 MODS:sta",
    newsTitle: "Uutiset & PÃ¤ivitykset",
    subtext: `Nyt voit tehdÃ¤ kaiken mukavasti parannetulla tyÃ¶kalulla.<br>
    Jos mitÃ¤Ã¤n ei tapahdu, asenna ensin <a href="https://violentmonkey.github.io/get-it/" target="_blank" style="color:#6effb2;">Violentmonkey</a>.`,
    info: "Tiedoksi: NÃ¤mÃ¤ modit eivÃ¤t enÃ¤Ã¤ saa ohjelmistopÃ¤ivityksiÃ¤ tai virheiden korjauksia 15.09.2025 alkaen, mutta voit jatkaa niiden kÃ¤yttÃ¶Ã¤.",
    trollExpired: "MSP2 Troll lisenssi on vanhentunut.",
    about: `<p>
        MSP2 MODS on alusta, joka tarjoaa ainutlaatuisia apuohjelmia ja mukautustyÃ¶kaluja ("modeja") MSP2:lle. 
        Sivusto mahdollistaa erilaisten modien asentamisen MSP2-kokemuksesi parantamiseksi.
      </p>
      <p>
        <b>Miten kÃ¤yttÃ¤Ã¤?</b> Klikkaa "Asenna" minkÃ¤ tahansa modin kohdalla. Jos selaimesi ei reagoi, asenna ensin <a href="https://violentmonkey.github.io/get-it/" target="_blank" style="color:#6effb2;">Violentmonkey</a>.
      </p>
      <p>
        <b>Huomautus:</b> MSP2 MODS ei saa pÃ¤ivityksiÃ¤ 15.09.2025 jÃ¤lkeen, mutta kaikki modit pysyvÃ¤t kÃ¤ytettÃ¤vissÃ¤.
      </p>`
  },
  "tr-TR": {
    aboutBtn: "HakkÄ±nda",
    langBtn: "Dil",
    newsBtn: "Haberler",
    langTitle: "Dil SeÃ§", 
    aboutTitle: "MSP2 MODS HakkÄ±nda",
    newsTitle: "Haberler & GÃ¼ncellemeler",
    subtext: `ArtÄ±k geliÅŸtirilmiÅŸ araÃ§ ile her ÅŸeyi rahatÃ§a yapabilirsiniz.<br>
    EÄŸer bir ÅŸey olmuyorsa, Ã¶nce <a href="https://violentmonkey.github.io/get-it/" target="_blank" style="color:#6effb2;">Violentmonkey</a> kurun.`,
    info: "Bilgi: Bu modlar 15.09.2025 itibarÄ±yla yazÄ±lÄ±m gÃ¼ncellemesi veya hata dÃ¼zeltmesi almayacaktÄ±r, ancak kullanmaya devam edebilirsiniz.",
    trollExpired: "MSP2 Troll lisans sÃ¼resi doldu.",
    about: `<p>
      MSP2 MODS; MSP2 iÃ§in Ã¶zel modlar ve yardÄ±mcÄ± araÃ§lar sunan bir platformdur.
      Sitede Ã§eÅŸitli modlarÄ± kurarak MSP2 deneyiminizi geliÅŸtirebilirsiniz.
    </p>
    <p>
      <b>NasÄ±l kullanÄ±lÄ±r?</b> Herhangi bir modun "Kur" butonuna tÄ±klayÄ±n. TarayÄ±cÄ±nÄ±z tepki vermezse Ã¶nce <a href="https://violentmonkey.github.io/get-it/" target="_blank" style="color:#6effb2;">Violentmonkey</a> kurun.
    </p>
    <p>
      <b>Not:</b> MSP2 MODS 15.09.2025 sonrasÄ± gÃ¼ncelleme almayacaktÄ±r, fakat tÃ¼m modlar kullanÄ±labilir kalacaktÄ±r.
    </p>`
  },
  "es-ES": {
    aboutBtn: "Acerca de",
    langBtn: "Idioma",
    newsBtn: "Noticias", 
    langTitle: "Seleccionar idioma",
    aboutTitle: "Acerca de MSP2 MODS",
    newsTitle: "Noticias & Actualizaciones",
    subtext: `Ahora puedes hacer todo cÃ³modamente con la herramienta mejorada.<br>
    Si no pasa nada, instala primero <a href="https://violentmonkey.github.io/get-it/" target="_blank" style="color:#6effb2;">Violentmonkey</a>.`,
    info: "Info: Estos mods ya no recibirÃ¡n actualizaciones de software o correcciones de errores a partir del 15.09.2025, pero puedes seguir usÃ¡ndolos.",
    trollExpired: "La licencia de MSP2 Troll ha expirado.",
    about: `<p>
        MSP2 MODS es una plataforma que ofrece herramientas Ãºnicas de utilidad y personalizaciÃ³n ("mods") para MSP2. 
        El sitio te permite instalar varios mods para mejorar tu experiencia MSP2.
      </p>
      <p>
        <b>Â¿CÃ³mo usar?</b> Haz clic en "Instalar" en cualquier mod. Si tu navegador no responde, instala primero <a href="https://violentmonkey.github.io/get-it/" target="_blank" style="color:#6effb2;">Violentmonkey</a>.
      </p>
      <p>
        <b>Nota:</b> MSP2 MODS no recibirÃ¡ actualizaciones despuÃ©s del 15.09.2025, pero todos los mods permanecerÃ¡n disponibles para usar.
      </p>`
  },
  "de-DE": {
    aboutBtn: "Ãœber",
    langBtn: "Sprache",
    newsBtn: "Nachrichten",
    langTitle: "Sprache auswÃ¤hlen", 
    aboutTitle: "Ãœber MSP2 MODS",
    newsTitle: "Nachrichten & Updates",
    subtext: `Jetzt kÃ¶nnen Sie alles bequem mit dem verbesserten Tool machen.<br>
    Falls nichts passiert, installieren Sie zuerst <a href="https://violentmonkey.github.io/get-it/" target="_blank" style="color:#6effb2;">Violentmonkey</a>.`,
    info: "Info: Diese Mods erhalten ab dem 15.09.2025 keine Software-Updates oder Fehlerbehebungen mehr, aber Sie kÃ¶nnen sie weiterhin verwenden.",
    trollExpired: "MSP2 Troll Lizenz ist abgelaufen.",
    about: `<p>
        MSP2 MODS ist eine Plattform, die einzigartige Hilfsprogramme und Anpassungstools ("Mods") fÃ¼r MSP2 bietet. 
        Die Seite ermÃ¶glicht es Ihnen, verschiedene Mods zu installieren, um Ihr MSP2-Erlebnis zu verbessern.
      </p>
      <p>
        <b>Wie verwenden?</b> Klicken Sie bei jedem Mod auf "Installieren". Falls Ihr Browser nicht reagiert, installieren Sie zuerst <a href="https://violentmonkey.github.io/get-it/" target="_blank" style="color:#6effb2;">Violentmonkey</a>.
      </p>
      <p>
        <b>Hinweis:</b> MSP2 MODS erhÃ¤lt nach dem 15.09.2025 keine Updates mehr, aber alle Mods bleiben weiterhin verfÃ¼gbar.
      </p>`
  },
  "en-AU": {
    aboutBtn: "About",
    langBtn: "Language",
    newsBtn: "News", 
    langTitle: "Select Language",
    aboutTitle: "About MSP2 MODS",
    newsTitle: "News & Updates",
    subtext: `Now you can do everything comfortably with the improved tool.<br>
    If nothing happens, install <a href="https://violentmonkey.github.io/get-it/" target="_blank" style="color:#6effb2;">Violentmonkey</a> first.`,
    info: "Info: These mods will no longer receive software updates or bug fixes starting from 15.09.2025, but you can continue to use them.",
    trollExpired: "MSP2 Troll licence has expired.",
    about: `<p>
        MSP2 MODS is a platform that offers unique utility and customisation tools ("mods") for MSP2. 
        The site allows you to install various mods to enhance your MSP2 experience.
      </p>
      <p>
        <b>How to use?</b> Click "Install" on any mod. If your browser doesn't respond, install <a href="https://violentmonkey.github.io/get-it/" target="_blank" style="color:#6effb2;">Violentmonkey</a> first.
      </p>
      <p>
        <b>Note:</b> MSP2 MODS will not receive updates after 15.09.2025, but all mods will remain available for use.
      </p>`
  },
  "en-NZ": {
    aboutBtn: "About",
    langBtn: "Language",
    newsBtn: "News",
    langTitle: "Select Language", 
    aboutTitle: "About MSP2 MODS",
    newsTitle: "News & Updates",
    subtext: `Now you can do everything comfortably with the improved tool.<br>
    If nothing happens, install <a href="https://violentmonkey.github.io/get-it/" target="_blank" style="color:#6effb2;">Violentmonkey</a> first.`,
    info: "Info: These mods will no longer receive software updates or bug fixes starting from 15.09.2025, but you can continue to use them.",
    trollExpired: "MSP2 Troll licence has expired.",
    about: `<p>
        MSP2 MODS is a platform that offers unique utility and customisation tools ("mods") for MSP2. 
        The site allows you to install various mods to enhance your MSP2 experience.
      </p>
      <p>
        <b>How to use?</b> Click "Install" on any mod. If your browser doesn't respond, install <a href="https://violentmonkey.github.io/get-it/" target="_blank" style="color:#6effb2;">Violentmonkey</a> first.
      </p>
      <p>
        <b>Note:</b> MSP2 MODS will not receive updates after 15.09.2025, but all mods will remain available for use.
      </p>`
  }
};

// Current language state
let currentLang = "en-US";

// Language functionality
function loadLanguage(langKey) {
  currentLang = langKey;
  const trans = TRANSLATIONS[langKey];
  if (!trans) return;

  // Update UI elements
  const elements = {
    'aboutBtnTxt': trans.aboutBtn,
    'langBtnTxt': trans.langBtn, 
    'newsBtnTxt': trans.newsBtn,
    'langTitle': trans.langTitle,
    'aboutTitle': trans.aboutTitle,
    'newsTitle': trans.newsTitle,
    'subtextMain': trans.subtext,
    'infoText': trans.info,
    'aboutText': trans.about
  };

  Object.keys(elements).forEach(id => {
    const element = document.getElementById(id);
    if (element) {
      if (id === 'subtextMain' || id === 'aboutText') {
        element.innerHTML = elements[id];
      } else {
        element.textContent = elements[id];
      }
    }
  });

  // Store in localStorage
  localStorage.setItem('msp2mods_lang', langKey);
  
  const langModal = document.getElementById('langModal');
  if (langModal) {
    langModal.classList.remove('show');
    setTimeout(() => {
      langModal.style.display = 'none';
    }, 300);
  }

  // Reload dynamic content with new language
  if (window.loadDynamicButtonDescriptions) {
    window.loadDynamicButtonDescriptions();
  }
  if (window.loadNewsList) {
    window.loadNewsList();
  }
  if (window.loadDynamicButtons) {
    window.loadDynamicButtons();
  }
}

function renderLanguageList() {
  const container = document.getElementById('langList');
  if (!container) return;
  
  container.innerHTML = '';
  
  LANGUAGES.forEach(lang => {
    const item = document.createElement('div');
    item.className = `lang-item ${lang.key === currentLang ? 'selected' : ''}`;
    item.innerHTML = `<span>${lang.flag}</span><span>${lang.name}</span>`;
    item.onclick = () => loadLanguage(lang.key);
    container.appendChild(item);
  });
}

// Make functions global for access from main.js
window.TRANSLATIONS = TRANSLATIONS;
window.currentLang = currentLang;
window.loadLanguage = loadLanguage;
window.renderLanguageList = renderLanguageList;
